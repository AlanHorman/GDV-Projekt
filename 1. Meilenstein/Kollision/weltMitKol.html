<html>
    <head>
        <title>Nimmersatts Welt</title>
    </head>

    <body>
        <script src="..\..\Application\page\extern\three_js\build\three.min.js">
        </script>
        <script src="..\..\Application\page\extern\three_x\THREEx.FullScreen.js"></script>
         <script src="..\..\Application\page\extern\three_x\threex.keyboardstate.js"></script>
        <script>
            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            var geometry1 = new THREE.PlaneGeometry(250, 100);
            var material1 = new THREE.MeshBasicMaterial({color: "rgb(145, 142, 145)", side: THREE.DoubleSide});
            var floor = new THREE.Mesh(geometry1, material1);

            var geometry2 = new THREE.BoxGeometry(70, 35, 2);
            var material2 = new THREE.MeshBasicMaterial({color: "rgb(255, 255, 255)"});
            var soil = new THREE.Mesh(geometry2, material2);

            var geometry3 = new THREE.BoxGeometry(70, 14, 1);
            var material3 = new THREE.MeshBasicMaterial({color: "rgb(10, 10, 10)"});
            var wall1 = new THREE.Mesh(geometry3, material3);
            var wall2 = new THREE.Mesh(geometry3, material3);

            var geometry4 = new THREE.BoxGeometry(1, 14, 35);
            var material4 = new THREE.MeshBasicMaterial({color: "rgb(34, 34, 34)"});
            var wall3 = new THREE.Mesh(geometry4, material4);
            var wall4 = new THREE.Mesh(geometry4, material4);
            
            
          var geometry	= new THREE.CubeGeometry( 1, 1, 1);
	var material	= new THREE.MeshBasicMaterial({color: 0x00ff00});
	var mesh	= new THREE.Mesh( geometry, material );
	
       

            var geometry5 = new THREE.CylinderGeometry();


            //Kollisionen
            var collisionList = [];
            var wandaufbau_wo = new THREE.CubeGeometry(2, 5, 40);
            var wandaufbau_sn = new THREE.CubeGeometry(2, 5, 80);
            var wandMaterial = new THREE.MeshBasicMaterial({color: 0xff0000});
            var wand_w = new THREE.Mesh(wandaufbau_wo, wandMaterial);
            var wand_o = new THREE.Mesh(wandaufbau_wo, wandMaterial);
            var wand_n = new THREE.Mesh(wandaufbau_sn, wandMaterial);
            var wand_s = new THREE.Mesh(wandaufbau_sn, wandMaterial);



            collisionList.push(wand_w);
            collisionList.push(wand_o);
            collisionList.push(wand_n);
            collisionList.push(wand_s);

            scene.add(soil);
            scene.add(floor);
            scene.add(wall1);
            scene.add(wall2);
            scene.add(wall3);
            scene.add(wall4);
            
             scene.add(mesh);
            
            scene.add(wand_w);
            scene.add(wand_o);
            scene.add(wand_n);
            scene.add(wand_s);


            floor.rotation.x = -1.57;
            soil.rotation.x = -1.57;
            soil.position.y = 1;
            wall1.position.z = -18;
            wall2.position.z = 18;
            wall3.position.x = 34.5;
            wall4.position.x = -34.5;
            
            mesh.position.y = 1;


            wand_w.position.x = -34.5;
            wand_o.position.x = 34.5;

            wand_n.rotation.y = 1.57;
            wand_n.position.z = -18;
            wand_s.rotation.y = 1.57;
            wand_s.position.z = 18;

            camera.rotation.x = -1.15;
            camera.position.y = 33;
            camera.position.z = 12;

           // document.body.appendChild( renderer.domElement );
        var keyboard= new THREEx.KeyboardState(renderer.domElement);
	renderer.domElement.setAttribute("tabIndex", "0");
	renderer.domElement.focus();

	
        	var updateFcts	= [];
                          updateFcts.push(function(){
		if( keyboard.pressed('left') ){
			mesh.position.x -= 0.01;			
		}else if( keyboard.pressed('right') ){
			mesh.position.x += 0.01;
		}
		if( keyboard.pressed('down') ){
			mesh.position.z += 0.01;		
		}else if( keyboard.pressed('up') ){
			mesh.position.z -= 0.01;		
		}
	});

        	updateFcts.push(function(){
		renderer.render( scene, camera );		
	})
            var render = function () {
                requestAnimationFrame(render);
                renderer.render(scene, camera);
                renderer.setSize(window.innerWidth, window.innerHeight);
                
       
            }
            
            render();

            document.body.addEventListener("keydown", function (event)
            {
                if (event.keyCode == '70')
                {
                    THREEx.FullScreen.request();
                }
            });





        </script>
    </body>
</html>